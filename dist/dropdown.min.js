function dropdown({closeAfterSelect:e=!0}){let t=document.querySelectorAll("[data-dd-target]"),n=-1,o=!1,d="";function r(e,t){for(let n=0;n<e.length;n++)e[n].classList.remove(t)}function a(e,t){r(e,t),e[n].classList.add(t)}function c(e,t){n=-1,o=!1,e.classList.remove(t)}t.forEach(t=>{let i=t.getAttribute("data-dd-target"),s=document.querySelector(`[data-dd-path="${i}"]`),l=s.querySelectorAll(".dropdown-menu__item");l.forEach(n=>{n.addEventListener("focus",e=>{d=e.target}),n.addEventListener("keydown",n=>{"Enter"===n.code&&n.target===d&&e&&n.target.href&&c(s,"dropdown-menu--active"),"Escape"===n.code&&d&&(c(s,"dropdown-menu--active"),t.focus())})}),document.addEventListener("click",d=>{let a=d.target,i=s.contains(a);if(a&&a===t){d.preventDefault();var u,m="dropdown-menu--active";(u=s).classList.contains(m)?setTimeout(()=>{u.classList.remove(m),o=!1}):setTimeout(()=>{u.classList.add(m),o=!0})}a&&!i&&(n=-1,c(s,"dropdown-menu--active"),r(l,"dropdown-menu__item--active")),i&&e&&a.href&&(n=-1,c(s,"dropdown-menu--active"),r(l,"dropdown-menu__item--active"))}),t.addEventListener("keydown",e=>{if("Escape"===e.code&&(c(s,"dropdown-menu--active"),r(l,"dropdown-menu__item--active")),o&&l.length>0)switch(e.code){case"ArrowUp":--n<0&&(n=l.length-1),a(l,"dropdown-menu__item--active");break;case"ArrowDown":++n>l.length-1&&(n=0),a(l,"dropdown-menu__item--active");break;case"Enter":if(r(l,"dropdown-menu__item--active"),n>-1){let t=l[n];t.href?t.click():t.focus()}}})})}